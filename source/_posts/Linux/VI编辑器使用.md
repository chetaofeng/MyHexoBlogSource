---
title: VI编辑器使用
tags:
  - CentOS
copyright: true
comments: true
toc: true
date: 2018-12-19 15:29:55
categories: Linux
password:
---

> vi编辑器是所有Unix及Linux系统下标准的编辑器，它的强大不逊色于任何最新的文本编辑器，对Unix及Linux系统的任何版本，vi编辑器是完全相同的。

# vi的基本概念
1. 命令行模式command mode
> 控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode；
2. 插入模式（Insert mode）
> 只有在Insert mode下，才可以做文字输入，按「ESC」键可回到命令行模式
3. 底行模式（last line mode）
> 将文件保存或退出vi，也可以设置编辑环境，如寻找字符串、列出行号……

不过一般我们在使用时把vi简化成两个模式，就是将底行模式（last line mode）也算入命令行模式command mode）
# vi的基本操作
1. 进入vi的命令
~~~
vi filename:打开或新建文件，并将光标置于第一行首
vi +n filename：打开文件，并将光标置于第n行首
vi + filename ：打开文件，并将光标置于最后一行首
vi +/pattern filename：打开文件，并将光标置于第一个与pattern匹配的串处
vi -r filename ：在上次正用vi编辑时发生系统崩溃，恢复filename
vi filename....filename ：打开多个文件，依次编辑
~~~
2. 退出vi及保存文件
> 在「命令行模式（command mode）」下，按一下「：」冒号键进入「Last line mode」
~~~
: w filename （输入 「w filename」将文章以指定的文件名filename保存）
: wq (输入「wq」，存盘并退出vi)
: q! (输入q!， 不存盘强制退出vi)
~~~
3. 移动光标
~~~
按「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格。
按「ctrl」+「b」：屏幕往"后"移动一页
按「ctrl」+「f」：屏幕往"前"移动一页
按「ctrl」+「u」：屏幕往"后"移动半页
按「ctrl」+「d」：屏幕往"前"移动半页
按数字「0」：移到文章的开头
按「G」：移动到文章的最后
按「$」：移动到光标所在行的"行尾"
按「^」：移动到光标所在行的"行首"
按「w」：光标跳到下个字的开头
按「e」：光标跳到下个字的字尾
按「b」：光标回到上个字的开头
按「#l」：光标移到该行的第#个位置，如：5l,56l
~~~
4. 删除文字
~~~
「x」：每按一次，删除光标所在位置的"后面"一个字符
「#x」：例如，「6x」表示删除光标所在位置的"后面"6个字符
「X」：大写的X，每按一次，删除光标所在位置的"前面"一个字符
「#X」：例如，「20X」表示删除光标所在位置的"前面"20个字符
「dd」：删除光标所在行
「#dd」：从光标所在行开始删除#行
~~~
5. 复制
~~~
「yw」：将光标所在之处到字尾的字符复制到缓冲区中
「#yw」：复制#个字到缓冲区
「yy」：复制光标所在行到缓冲区
「#yy」：例如，「6yy」表示拷贝从光标所在的该行"往下数"6行文字
「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与"y"有关的复制命令都必须与"p"配合才能完成复制与粘贴功能
~~~
6. 恢复上一次操作
~~~
「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次"u"可以执行多次恢复
~~~
7. 跳至指定的行
~~~
「ctrl」+「g」列出光标所在行的行号
「#G」：例如，「15G」，表示移动光标至文章的第15行行首
~~~
8. 列出行号
~~~
命令行模式：输入「set nu」后，会在文件中的每一行前面列出行号
~~~
9. 跳到文件中的某一行
~~~
命令行模式：「#」号表示一个数字，在冒号后输入一个数字，再按回车键就会跳到该行了，如输入数字15，再回车，就会跳到文章的第15行
~~~
10. 查找字符
~~~
* 「/关键字」：先按「/」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往后寻找到您要的关键字为止;
* 「?关键字」：先按「?」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往前寻找到您要的关键字为止
~~~